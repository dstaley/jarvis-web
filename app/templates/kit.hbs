<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">{{model.kit.name}}
        {{#if userAuthenticationService.currentUser}}
        {{#if model.kit.available}}
          {{#link-to 'add-checkout' (query-params kit=model.kit.id)}}
            <button class="btn btn-primary pull-right">Checkout</button>
          {{/link-to}}
        {{/if}}
        {{/if}}
        {{#link-to 'edit-kit' model.kit.id}}
          <button class="btn btn-primary pull-right">Edit</button>
        {{/link-to}}
        </h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->

<div class="row">
  <div class="col-lg-12">
      <h3>Type: {{model.kit.type}}</h3>
      <h3>Status: {{model.kit.status}}</h3>
      <h3>Availability: {{#if model.kit.available}}Available{{else}}Unavailable{{/if}}</h3>
      <h3>Location: {{model.kit.location.name}}</h3>
      {{#if model.kit.needs_permission}}
        <h3>Special Restrictions: {{model.kit.permission_statement}}</h3>
      {{/if}}
  </div>
  <!-- /.col-lg-12 -->
</div>

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Items in {{model.kit.name}}</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->

<div class="row">
  <div class="col-lg-12">
      <div class="table-responsive">
          <table class="table table-striped table-bordered table-hover" data-sortable>
              <thead>
                  <tr>
                      <th>Name</th>
                      <th>Status</th>
                      <th>Availability</th>
                  </tr>
              </thead>
              <tbody>
                  {{#each item in model.items.items}}
                    <tr>
                      <td>{{#link-to 'item' item.id}}{{item.name}}{{/link-to}}</td>
                      <td>{{#link-to 'item' item.id}}{{item.status}}{{/link-to}}</td>
                      <td>{{#link-to 'item' item.id}}{{#if item.available}}Available{{else}}Unavailable{{/if}}{{/link-to}}</td>
                    </tr>
                  {{/each}}
              </tbody>
          </table>
      </div>
      <!-- /.table-responsive -->
  </div>
  <!-- /.col-lg-12 -->
</div>

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Checkouts</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->

<div class="row">
  <div class="col-lg-12">
      <div class="table-responsive">
          {{#sortable-table}}
              <thead>
                  <tr>
                      <th>Person</th>
                      <th>Checkout Date</th>
                      <th>Due Date</th>
                      <th>Extensions</th>
                      <th>Created By</th>
                  </tr>
              </thead>
              <tbody>
                  {{#each checkout in model.checkouts.checkouts}}
                    <tr>
                      <td>{{#link-to 'checkout' checkout.id}}{{checkout.patron.name}}{{/link-to}}</td>
                      <td>{{moment checkout.checkout_date}}</td>
                      <td>{{ago checkout.due_date}}</td>
                      <td>{{checkout.extensions}}</td>
                      <td>{{checkout.created_by.name}}</td>
                    </tr>
                  {{/each}}
              </tbody>
          {{/sortable-table}}
      </div>
      <!-- /.table-responsive -->
  </div>
  <!-- /.col-lg-12 -->
</div>
